# Code for Paper "Reevaluation of Inductive Link Prediction"

## Installation

```bash
conda create -n indeval python=3.8
conda activate indeval
pip install torch pykeen=1.10.2
```

## Baseline

Run `python baseline.py`

## Evaluate your approach

Run `python eval.py --dataset {WN18RR,fb237,nell,ilpc_large,ilpc_small} --version {v1,v2,v3,v4} --path PATH` which outputs hits@10 and MRR for sampling-based, non-sampling and tmn evaluation protocol.

where PATH either points to a text file (ending .txt) containing an prediction file analogous to AnyBURL

```text
{test_h1} {test_r1} {test_t1}
Heads: {pred_h1}\t{score_pred_h1}\t{pred_h2}\t{score_pred_h2}\t ...
Tails: {pred_t1}\t{score_pred_t1}\t{pred_t2}\t{score_pred_t2}\t ...
{test_h2} {test_r2} {test_t2}
Heads: {pred_h1}\t{score_pred_h1}\t{pred_h2}\t{score_pred_h2}\t ...
Tails: {pred_t1}\t{score_pred_t1}\t{pred_t2}\t{score_pred_t2}\t ...
...
```

for example

```text
/m/01zc2w /education/field_of_study/students_majoring./education/education/major_field_of_study /m/0jjw
Heads: /m/01zc2w	0.75	/m/02j62	0.2222222222222222	/m/0fdys	0.16666666666666666	/m/01mkq	0.12320040690821256	/m/04_tv	0.12320040626773657	/m/05qjt	0.12320040626768969	/m/036nz	0.12320040579710145	/m/02vxn	0.12320040579710145	/m/040p_q	0.12318840579710146	/m/023907r	0.12318840579710146	/m/0_jm	0.12280701754385964	/m/02bjrlw	0.12000470588235293	/m/06mq7	0.12000470588235293	/m/0hcr	0.12	/m/03ytc	0.12	/m/026bk	0.10119047619047619	
Tails: /m/0jjw	0.75	/m/02j62	0.2222222222222222	/m/01mkq	0.21428571428571427	/m/0fdys	0.16668095238095237	/m/05qjt	0.16667898673531653	/m/036nz	0.16667898550724636	/m/02vxn	0.16667898550724636	/m/040p_q	0.16666666666666666	/m/023907r	0.16666666666666666	/m/0_jm	0.123200686604119	/m/04_tv	0.12320068649885584	/m/02bjrlw	0.12319465579710145	/m/06mq7	0.12319465579710145	/m/026bk	0.12318840579710146	/m/0hcr	0.12318840579710146	/m/03ytc	0.12318840579710146	/m/07c52	0.12280701754385964	/m/05qdh	0.12280701754385964	
```

# Results

## hits@10

### Random sampling evaluation protocol

<table>
    <tr>
      <th/>
      <th colspan="5">FB15k-237</td>
      <th colspan="5">WN18RR</td>
      <th colspan="5">NELL-995</td>
    </tr>
    <tr>
        <td></td>
        <td>V1</td>
        <td>V2</td>
        <td>V3</td>
        <td>V4</td>
        <td>avg</td>
        <td>V1</td>
        <td>V2</td>
        <td>V3</td>
        <td>V4</td>
        <td>avg</td>
        <td>V1</td>
        <td>V2</td>
        <td>V3</td>
        <td>V4</td>
        <td>avg</td>
    </tr>
    <tr>
        <td>Neural LP</td>
        <td>.529</td>
        <td>.589</td>
        <td>.529</td>
        <td>.559</td>
        <td>.552</td>
        <td>.744</td>
        <td>.689</td>
        <td>.462</td>
        <td>.671</td>
        <td>.642</td>
        <td>.408</td>
        <td>.787</td>
        <td>.827</td>
        <td>.806</td>
        <td>.707</td>
    </tr>
    <tr>
        <td>DRUM</td>
        <td>.529</td>
        <td>.587</td>
        <td>.529</td>
        <td>.559</td>
        <td>.551</td>
        <td>.744</td>
        <td>.689</td>
        <td>.462</td>
        <td>.671</td>
        <td>.642</td>
        <td>.194</td>
        <td>.786</td>
        <td>.827</td>
        <td>.806</td>
        <td>.653</td>
    </tr>
    <tr>
        <td>RuleN</td>
        <td>.498</td>
        <td>.778</td>
        <td>.877</td>
        <td>.856</td>
        <td>.752</td>
        <td>.809</td>
        <td>.782</td>
        <td>.534</td>
        <td>.716</td>
        <td>.710</td>
        <td>.535</td>
        <td>.818</td>
        <td>.773</td>
        <td>.614</td>
        <td>.685</td>
    </tr>
    <tr>
        <td>AnyBURL</td>
        <td>.517</td>
        <td>.784</td>
        <td>.845</td>
        <td>.865</td>
        <td>.753</td>
        <td>.814</td>
        <td>.776</td>
        <td>.544</td>
        <td>.719</td>
        <td>.713</td>
        <td>.795</td>
        <td>.824</td>
        <td>.775</td>
        <td>.605</td>
        <td>.750</td>
    </tr>
    <tr>
        <td>GraIL</td>
        <td>.642</td>
        <td>.818</td>
        <td>.828</td>
        <td>.893</td>
        <td>.795</td>
        <td>.825</td>
        <td>.787</td>
        <td>.584</td>
        <td>.734</td>
        <td>.733</td>
        <td>.595</td>
        <td>.933</td>
        <td>.914</td>
        <td>.732</td>
        <td>.794</td>
    </tr>
    <tr>
        <td>ConGLR</td>
        <td>.683</td>
        <td>.860</td>
        <td>.886</td>
        <td>.893</td>
        <td>.831</td>
        <td>.856</td>
        <td>.929</td>
        <td>.707</td>
        <td><b>.929</b></td>
        <td><ins>.855</ins></td>
        <td>.811</td>
        <td><ins>.949</ins></td>
        <td>.944</td>
        <td>.816</td>
        <td>.880</td>
    </tr>
    <tr>
        <td>COMPILE</td>
        <td>.676</td>
        <td>.830</td>
        <td>.847</td>
        <td>.874</td>
        <td>.807</td>
        <td>.836</td>
        <td>.798</td>
        <td>.607</td>
        <td>.755</td>
        <td>.749</td>
        <td>.584</td>
        <td>.939</td>
        <td>.928</td>
        <td>.752</td>
        <td>.801</td>
    </tr>
    <tr>
        <td>SNRI</td>
        <td>.718</td>
        <td>.865</td>
        <td>.896</td>
        <td>.894</td>
        <td>.843</td>
        <td>.872</td>
        <td>.831</td>
        <td>.673</td>
        <td>.883</td>
        <td>.815</td>
        <td>.643</td>
        <td>.900</td>
        <td>.918</td>
        <td>.191</td>
        <td>.663</td>
    </tr>
    <tr>
        <td>INDIGO</td>
        <td>.451</td>
        <td>.480</td>
        <td>.483</td>
        <td>.480</td>
        <td>.473</td>
        <td>.166</td>
        <td>.156</td>
        <td>.316</td>
        <td>.203</td>
        <td>.210</td>
        <td>.520</td>
        <td>.552</td>
        <td>.510</td>
        <td>.497</td>
        <td>.520</td>
    </tr>
    <tr>
        <td>NodePiece</td>
        <td><ins>.873</ins></td>
        <td>.939</td>
        <td>.944</td>
        <td><ins>.949</ins></td>
        <td><ins>.926</ins></td>
        <td>.830</td>
        <td>.886</td>
        <td>.785</td>
        <td>.807</td>
        <td>.827</td>
        <td>.890</td>
        <td>.901</td>
        <td>.936</td>
        <td>.893</td>
        <td><ins>905</ins></td>
    </tr>
    <tr>
        <td>NBFNet</td>
        <td>.834</td>
        <td><ins>.949</ins></td>
        <td><ins>.951</ins></td>
        <td><b>.960</b></td>
        <td>.924</td>
        <td><b>.948</b></td>
        <td>.905</td>
        <td><b>.893</b></td>
        <td><ins>.890</ins></td>
        <td><b>.909</b></td>
        <td><ins>.908</ins></td>
        <td><b>.956</b></td>
        <td><b>.968</b></td>
        <td><b>.939</b></td>
        <td><b>.943</b></td>
    </tr>
    <tr>
        <td>AStarNet</td>
        <td>.687</td>
        <td>.867</td>
        <td>.904</td>
        <td>.916</td>
        <td>.844</td>
        <td><ins>.877</ins></td>
        <td>.836</td>
        <td>.715</td>
        <td>.799</td>
        <td>.807</td>
        <td><b>.940</b></td>
        <td>.899</td>
        <td>.860</td>
        <td>.828</td>
        <td>.882</td>
    </tr>
    <tr>
        <td>RED-GNN</td>
        <td>.516</td>
        <td>.771</td>
        <td>.829</td>
        <td>.903</td>
        <td>.755</td>
        <td>.856</td>
        <td>.824</td>
        <td>.684</td>
        <td>.777</td>
        <td>.785</td>
        <td>.853</td>
        <td>.925</td>
        <td>.954</td>
        <td>.806</td>
        <td>.884</td>
    </tr>
    <tr>
        <td>Baseline</td>
        <td><b>.887</b></b></td>
        <td><b>.963</b></td>
        <td><b>.954</b></td>
        <td><ins>.949</ins></td>
        <td><b>.938</b></td>
        <td>.087</td>
        <td>.145</td>
        <td>.590</td>
        <td>.138</td>
        <td>.240</td>
        <td>.761</td>
        <td>.912</td>
        <td><ins>.945</ins></td>
        <td><ins>.914</ins></td>
        <td>.883</td>
    </tr>
</table>

### Non-sampling evaluation protocol

<table>
    <tr>
      <th/>
      <th colspan="5">FB15k-237</td>
      <th colspan="5">WN18RR</td>
      <th colspan="5">NELL-995</td>
    </tr>
    <tr>
        <td></td>
        <td>V1</td>
        <td>V2</td>
        <td>V3</td>
        <td>V4</td>
        <td>avg</td>
        <td>V1</td>
        <td>V2</td>
        <td>V3</td>
        <td>V4</td>
        <td>avg</td>
        <td>V1</td>
        <td>V2</td>
        <td>V3</td>
        <td>V4</td>
        <td>avg</td>
    </tr>
    <tr>
        <td>NeuralLP</td>
        <td>.351</td>
        <td>.437</td>
        <td>.388</td>
        <td>.341</td>
        <td>.379</td>
        <td>.713</td>
        <td>.684</td>
        <td>.312</td>
        <td>.636</td>
        <td>.586</td>
        <td>.750</td>
        <td>.598</td>
        <td>.544</td>
        <td>.585</td>
        <td>.619</td>
    </tr>
    <tr>
        <td>DRUM</td>
        <td>.385</td>
        <td>.468</td>
        <td>.410</td>
        <td>.403</td>
        <td>.417</td>
        <td>.715</td>
        <td>.680</td>
        <td>.310</td>
        <td>.635</td>
        <td>.585</td>
        <td>.755</td>
        <td>.554</td>
        <td>.585</td>
        <td><ins>.591</ins></td>
        <td>.621</td>
    </tr>
    <tr>
        <td>AnyBURL</td>
        <td>.461</td>
        <td>.640</td>
        <td>.620</td>
        <td>.614</td>
        <td>.584</td>
        <td>.803</td>
        <td>.772</td>
        <td>.467</td>
        <td><ins>.705</ins></td>
        <td>.687</td>
        <td>.830</td>
        <td>.610</td>
        <td>.486</td>
        <td>.530</td>
        <td>.614</td>
    </tr>
    <tr>
        <td>GraIL</td>
        <td>.376</td>
        <td>.415</td>
        <td>.423</td>
        <td>-</td>
        <td>~.404</td>
        <td>.729</td>
        <td>.744</td>
        <td>.406</td>
        <td>.675</td>
        <td>.638</td>
        <td>.685</td>
        <td>.310</td>
        <td>.336</td>
        <td>.219</td>
        <td>.387</td>
    </tr>
    <tr>
        <td>ConGLR</td>
        <td>.373</td>
        <td>.423</td>
        <td>-</td>
        <td>-</td>
        <td>~.398</td>
        <td>.566</td>
        <td>.688</td>
        <td>-</td>
        <td>-</td>
        <td>~.627</td>
        <td>.810</td>
        <td>.512</td>
        <td>-</td>
        <td>-</td>
        <td>~.661</td>
    </tr>
    <tr>
        <td>COMPILE</td>
        <td>.417</td>
        <td>.498</td>
        <td>-</td>
        <td>-</td>
        <td>~.457</td>
        <td>.689</td>
        <td>.656</td>
        <td>-</td>
        <td>-</td>
        <td>~.673</td>
        <td>.760</td>
        <td>.606</td>
        <td>-</td>
        <td>-</td>
        <td>~.683</td>
    </tr>
    <tr>
        <td>SNRI</td>
        <td>.246</td>
        <td>.416</td>
        <td>-</td>
        <td>-</td>
        <td>~.331</td>
        <td>.319</td>
        <td>.465</td>
        <td>-</td>
        <td>-</td>
        <td>~.392</td>
        <td>.800</td>
        <td>.407</td>
        <td>-</td>
        <td>-</td>
        <td>~.603</td>
    </tr>
    <tr>
        <td>INDIGO</td>
        <td>.198</td>
        <td>.247</td>
        <td>.246</td>
        <td>.198</td>
        <td>.222</td>
        <td>.040</td>
        <td>.011</td>
        <td>.056</td>
        <td>.005</td>
        <td>.028</td>
        <td>.615</td>
        <td>.230</td>
        <td>.193</td>
        <td>.182</td>
        <td>.305</td>
    </tr>
    <tr>
        <td>NodePiece</td>
        <td>.429</td>
        <td>.500</td>
        <td>.451</td>
        <td>.419</td>
        <td>.450</td>
        <td>.540</td>
        <td>.661</td>
        <td>.262</td>
        <td>.506</td>
        <td>.492</td>
        <td>.895</td>
        <td>.294</td>
        <td>.306</td>
        <td>.178</td>
        <td>.418</td>
    </tr>
    <tr>
        <td>NBFNet</td>
        <td><b>.617</b></td>
        <td><b>.719</b></td>
        <td><b>.659</b></td>
        <td><b>.661</b></td>
        <td><b>.664</b></td>
        <td><b>.830</b></td>
        <td><ins>.787</ins></td>
        <td><b>.554</b></td>
        <td>.700</td>
        <td><ins>.718</ins></td>
        <td><ins>.925</ins></td>
        <td><b>.694</b></td>
        <td><b>.688</b></td>
        <td><b>.640</b></td>
        <td><b>.737</b></td>
    </tr>
    <tr>
        <td>AStarNet</td>
        <td><ins>.534</ins></td>
        <td><ins>.673</ins></td>
        <td><ins>.647</ins></td>
        <td><ins>.637</ins></td>
        <td><ins>.623</ins></td>
        <td><ins>.819</ins></td>
        <td><b>.804</b></td>
        <td><ins>.541</ins></td>
        <td><b>.736</b></td>
        <td><b>.725</b></td>
        <td><b>.960</b></td>
        <td><ins>.690</ins></td>
        <td><ins>.646</ins></td>
        <td>.440</td>
        <td><ins>.684</ins></td>
    </tr>
    <tr>
        <td>RED-GNN</td>
        <td>.420</td>
        <td>.590</td>
        <td>.582</td>
        <td>.600</td>
        <td>.548</td>
        <td>.774</td>
        <td>.776</td>
        <td>.532</td>
        <td>.696</td>
        <td>.694</td>
        <td>.840</td>
        <td>.582</td>
        <td>.553</td>
        <td>.301</td>
        <td>.569</td>
    </tr>
    <tr>
        <td>Baseline</td>
        <td>.351</td>
        <td>.384</td>
        <td>.253</td>
        <td>.211</td>
        <td>.300</td>
        <td>.005</td>
        <td>.002</td>
        <td>.022</td>
        <td>.000</td>
        <td>.007</td>
        <td>.835</td>
        <td>.124</td>
        <td>.129</td>
        <td>.049</td>
        <td>.284</td>
    </tr>
</table>

### Type-matched sampling evaluation protocol

<table>
    <tr>
      <th/>
      <th colspan="5">FB15k-237</td>
      <th colspan="5">WN18RR</td>
      <th colspan="5">NELL-995</td>
    </tr>
    <tr>
        <td></td>
        <td>V1</td>
        <td>V2</td>
        <td>V3</td>
        <td>V4</td>
        <td>avg</td>
        <td>V1</td>
        <td>V2</td>
        <td>V3</td>
        <td>V4</td>
        <td>avg</td>
        <td>V1</td>
        <td>V2</td>
        <td>V3</td>
        <td>V4</td>
        <td>avg</td>
    </tr>
    <tr>
        <td>NeuralLP</td>
        <td>.441</td>
        <td>.550</td>
        <td>.499</td>
        <td>.531</td>
        <td>.505</td>
        <td>.729</td>
        <td>.689</td>
        <td>.336</td>
        <td>.652</td>
        <td>.601</td>
        <td>.750</td>
        <td>.731</td>
        <td>.734</td>
        <td>.748</td>
        <td>.741</td>
    </tr>
    <tr>
        <td>DRUM</td>
        <td>.446</td>
        <td>.556</td>
        <td>.497</td>
        <td>.533</td>
        <td>.508</td>
        <td>.729</td>
        <td>.689</td>
        <td>.336</td>
        <td>.652</td>
        <td>.601</td>
        <td>.755</td>
        <td>.745</td>
        <td>.752</td>
        <td>.758</td>
        <td>.752</td>
    </tr>
    <tr>
        <td>AnyBURL</td>
        <td>.495</td>
        <td>.712</td>
        <td>.717</td>
        <td>.746</td>
        <td>.668</td>
        <td>.814</td>
        <td>.776</td>
        <td>.540</td>
        <td>.719</td>
        <td>.712</td>
        <td>.830</td>
        <td>.759</td>
        <td>.645</td>
        <td>.586</td>
        <td>.705</td>
    </tr>
    <tr>
        <td>GraIL</td>
        <td>.566</td>
        <td>.690</td>
        <td>.688</td>
        <td>.546</td>
        <td>.622</td>
        <td>.840</td>
        <td>.810</td>
        <td>.596</td>
        <td>.762</td>
        <td>.752</td>
        <td>.720</td>
        <td>.798</td>
        <td>.719</td>
        <td>.613</td>
        <td>.713</td>
    </tr>
    <tr>
        <td>ConGLR</td>
        <td><ins>.685</ins></td>
        <td>.659</td>
        <td>.694</td>
        <td>.699</td>
        <td>.684</td>
        <td>.785</td>
        <td>.804</td>
        <td>.501</td>
        <td>.753</td>
        <td>.711</td>
        <td>.865</td>
        <td><b>.889</b></td>
        <td><ins>.853</ins></td>
        <td>.769</td>
        <td><ins>.844</ins></td>
    </tr>
    <tr>
        <td>COMPILE</td>
        <td>.622</td>
        <td><ins>.759</ins></td>
        <td>.735</td>
        <td>.724</td>
        <td>.710</td>
        <td>.835</td>
        <td>.800</td>
        <td>.591</td>
        <td>.746</td>
        <td>.743</td>
        <td>.765</td>
        <td><ins>.888</ins></td>
        <td>.838</td>
        <td>.574</td>
        <td>.766</td>
    </tr>
    <tr>
        <td>SNRI</td>
        <td>.554</td>
        <td>.697</td>
        <td>.679</td>
        <td>.696</td>
        <td>.656</td>
        <td><ins>.878</ins></td>
        <td>.815</td>
        <td>.595</td>
        <td>.773</td>
        <td>.765</td>
        <td>.805</td>
        <td>.776</td>
        <td>.663</td>
        <td>.371</td>
        <td>.654</td>
    </tr>
    <tr>
        <td>INDIGO</td>
        <td>.344</td>
        <td>.383</td>
        <td>.388</td>
        <td>.391</td>
        <td>.376</td>
        <td>.136</td>
        <td>.091</td>
        <td>.183</td>
        <td>.131</td>
        <td>.135</td>
        <td>.615</td>
        <td>.478</td>
        <td>.420</td>
        <td>.418</td>
        <td>.483</td>
    </tr>
    <tr>
        <td>NodePiece</td>
        <td>.532</td>
        <td>.615</td>
        <td>.625</td>
        <td>.600</td>
        <td>.593</td>
        <td>.798</td>
        <td><ins>.842</ins></td>
        <td>.599</td>
        <td>.765</td>
        <td>.751</td>
        <td>.905</td>
        <td>.555</td>
        <td>.575</td>
        <td>.470</td>
        <td>.626</td>
    </tr>
    <tr>
        <td>NBFNet</td>
        <td><b>.688</b></td>
        <td><b>.794</b></td>
        <td><b>.776</b></td>
        <td><b>.784</b></td>
        <td><b>.760</b></td>
        <td><b>.941</b></td>
        <td><b>.910</b></td>
        <td><b>.863</b></td>
        <td><b>.899</b></td>
        <td><b>.903</b></td>
        <td><ins>.970</ins></td>
        <td>.861</td>
        <td><b>.868</b></td>
        <td><b>.819</b></td>
        <td><b>.880</b></td>
    </tr>
    <tr>
        <td>AStarNet</td>
        <td>.651</td>
        <td>.753</td>
        <td><ins>.754</ins></td>
        <td><ins>.761</ins></td>
        <td><ins>.730</ins></td>
        <td>.875</td>
        <td>.832</td>
        <td><ins>.702</ins></td>
        <td><ins>.797</ins></td>
        <td><ins>.802</ins></td>
        <td><b>.975</b></td>
        <td>.828</td>
        <td>.794</td>
        <td><ins>.775</ins></td>
        <td>.843</td>
    </tr>
    <tr>
        <td>RED-GNN</td>
        <td>.483</td>
        <td>.700</td>
        <td>.718</td>
        <td>.754</td>
        <td>.664</td>
        <td>.854</td>
        <td>.823</td>
        <td>.665</td>
        <td>.777</td>
        <td>.780</td>
        <td>.895</td>
        <td>.842</td>
        <td>.807</td>
        <td>.540</td>
        <td>.771</td>
    </tr>
</table>

## MRR

### Random sampling evaluation protocol

<table>
    <tr>
      <th/>
      <th colspan="5">FB15k-237</td>
      <th colspan="5">WN18RR</td>
      <th colspan="5">NELL-995</td>
    </tr>
    <tr>
        <td></td>
        <td>V1</td>
        <td>V2</td>
        <td>V3</td>
        <td>V4</td>
        <td>avg</td>
        <td>V1</td>
        <td>V2</td>
        <td>V3</td>
        <td>V4</td>
        <td>avg</td>
        <td>V1</td>
        <td>V2</td>
        <td>V3</td>
        <td>V4</td>
        <td>avg</td>
    </tr>
    <tr>
        <td>NeuralLP</td>
        <td>.417</td>
        <td>.523</td>
        <td>.473</td>
        <td>.488</td>
        <td>.475</td>
        <td>.724</td>
        <td>.698</td>
        <td>.355</td>
        <td>.663</td>
        <td>.610</td>
        <td>.414</td>
        <td>.700</td>
        <td>.736</td>
        <td>.719</td>
        <td>.642</td>
    </tr>
    <tr>
        <td>DRUM</td>
        <td>.429</td>
        <td>.534</td>
        <td>.480</td>
        <td>.511</td>
        <td>.489</td>
        <td>.724</td>
        <td>.698</td>
        <td>.355</td>
        <td>.663</td>
        <td>.610</td>
        <td>.449</td>
        <td>.691</td>
        <td>.748</td>
        <td><ins>.726</ins></td>
        <td>.653</td>
    </tr>
    <tr>
        <td>AnyBURL</td>
        <td>.500</td>
        <td>.727</td>
        <td>.739</td>
        <td>.761</td>
        <td>.682</td>
        <td>.805</td>
        <td>.781</td>
        <td>.544</td>
        <td>.728</td>
        <td>.715</td>
        <td>.701</td>
        <td>.740</td>
        <td>.704</td>
        <td>.584</td>
        <td>.682</td>
    </tr>
    <tr>
        <td>GraIL</td>
        <td>.473</td>
        <td>.609</td>
        <td>.649</td>
        <td>.398</td>
        <td>.532</td>
        <td>.782</td>
        <td>.803</td>
        <td>.545</td>
        <td>.762</td>
        <td>.723</td>
        <td>.414</td>
        <td>.595</td>
        <td>.659</td>
        <td>.663</td>
        <td>.583</td>
    </tr>
    <tr>
        <td>ConGLR</td>
        <td>.499</td>
        <td>.529</td>
        <td>.538</td>
        <td>.587</td>
        <td>.538</td>
        <td>.620</td>
        <td>.777</td>
        <td>.343</td>
        <td>.488</td>
        <td>.557</td>
        <td>.524</td>
        <td>.692</td>
        <td>.753</td>
        <td>.625</td>
        <td>.649</td>
    </tr>
    <tr>
        <td>CoMPILE</td>
        <td>.522</td>
        <td>.676</td>
        <td>.695</td>
        <td>.622</td>
        <td>.629</td>
        <td>.755</td>
        <td>.775</td>
        <td>.458</td>
        <td>.648</td>
        <td>.659</td>
        <td>.518</td>
        <td><ins>.805</ins></td>
        <td><ins>.812</ins></td>
        <td>.209</td>
        <td>.586</td>
    </tr>
    <tr>
        <td>SNRI</td>
        <td>.413</td>
        <td>.618</td>
        <td>.647</td>
        <td>.653</td>
        <td>.583</td>
        <td>.579</td>
        <td>.734</td>
        <td>.223</td>
        <td>.556</td>
        <td>.523</td>
        <td>.503</td>
        <td>.649</td>
        <td>.675</td>
        <td>.168</td>
        <td>.499</td>
    </tr>
    <tr>
        <td>INDIGO</td>
        <td>.297</td>
        <td>.352</td>
        <td>.367</td>
        <td>.344</td>
        <td>.340</td>
        <td>.101</td>
        <td>.083</td>
        <td>.174</td>
        <td>.083</td>
        <td>.110</td>
        <td>.524</td>
        <td>.393</td>
        <td>.362</td>
        <td>.336</td>
        <td>.404</td>
    </tr>
    <tr>
        <td>NodePiece</td>
        <td>.583</td>
        <td>.717</td>
        <td>.725</td>
        <td>.721</td>
        <td>.687</td>
        <td>.641</td>
        <td>.767</td>
        <td>.490</td>
        <td>.690</td>
        <td>.647</td>
        <td>.606</td>
        <td>.612</td>
        <td>.696</td>
        <td>.550</td>
        <td>.616</td>
    </tr>
    <tr>
        <td>NBFNet</td>
        <td><b>.704</b></td>
        <td><b>.825</b></td>
        <td><b>.801</b></td>
        <td><b>.812</b></td>
        <td><b>.786</b></td>
        <td><b>.871</b></td>
        <td><b>.834</b></td>
        <td><b>.760</b></td>
        <td><b>.812</b></td>
        <td><b>.819</b></td>
        <td>.723</td>
        <td><b>.841</b></td>
        <td><b>.869</b></td>
        <td><b>.807</b></td>
        <td><b>.810</b></td>
    </tr>
    <tr>
        <td>AStarNet</td>
        <td><ins>.601</ins></td>
        <td><ins>.764</ins></td>
        <td><ins>.771</ins></td>
        <td><ins>.779</ins></td>
        <td><ins>.729</ins></td>
        <td><ins>.845</ins></td>
        <td><ins>.832</ins></td>
        <td><ins>.669</ins></td>
        <td><ins>.795</ins></td>
        <td><ins>.786</ins></td>
        <td><b>.775</b></td>
        <td>.791</td>
        <td>.791</td>
        <td>.528</td>
        <td><ins>.721</ins></td>
    </tr>
    <tr>
        <td>RED-GNN</td>
        <td>.472</td>
        <td>.691</td>
        <td>.712</td>
        <td>.764</td>
        <td>.660</td>
        <td>.816</td>
        <td>.819</td>
        <td>.633</td>
        <td>.774</td>
        <td>.761</td>
        <td><ins>.730</ins></td>
        <td>.762</td>
        <td>.809</td>
        <td>.533</td>
        <td>.709</td>
    </tr>
    <tr>
        <td>Baseline</td>
        <td>.543</td>
        <td>.639</td>
        <td>.596</td>
        <td>.578</td>
        <td>.589</td>
        <td>.076</td>
        <td>.108</td>
        <td>.202</td>
        <td>.091</td>
        <td>.119</td>
        <td>.567</td>
        <td>.461</td>
        <td>.578</td>
        <td>.383</td>
        <td>.497</td>
    </tr>
</table>

### Non-sampling evaluation protocol

<table>
    <tr>
      <th/>
      <th colspan="5">FB15k-237</td>
      <th colspan="5">WN18RR</td>
      <th colspan="5">NELL-995</td>
    </tr>
    <tr>
        <td></td>
        <td>V1</td>
        <td>V2</td>
        <td>V3</td>
        <td>V4</td>
        <td>avg</td>
        <td>V1</td>
        <td>V2</td>
        <td>V3</td>
        <td>V4</td>
        <td>avg</td>
        <td>V1</td>
        <td>V2</td>
        <td>V3</td>
        <td>V4</td>
        <td>avg</td>
    </tr>
    <tr>
        <td>NeuralLP</td>
        <td>.223</td>
        <td>.272</td>
        <td>.252</td>
        <td>.204</td>
        <td>.238</td>
        <td>.626</td>
        <td>.619</td>
        <td>.292</td>
        <td>.583</td>
        <td>.530</td>
        <td>.411</td>
        <td>.395</td>
        <td>.344</td>
        <td>.269</td>
        <td>.355</td>
    </tr>
    <tr>
        <td>DRUM</td>
        <td>.284</td>
        <td>.356</td>
        <td>.289</td>
        <td>.280</td>
        <td>.302</td>
        <td>.627</td>
        <td>.620</td>
        <td>.280</td>
        <td>.582</td>
        <td>.527</td>
        <td>.402</td>
        <td>.383</td>
        <td>.387</td>
        <td><ins>.393</ins></td>
        <td>.391</td>
    </tr>
    <tr>
        <td>AnyBURL</td>
        <td>.367</td>
        <td>.475</td>
        <td>.446</td>
        <td>.426</td>
        <td>.428</td>
        <td>.699</td>
        <td><ins>.694</ins></td>
        <td>.400</td>
        <td>.630</td>
        <td>.606</td>
        <td>.723</td>
        <td>.442</td>
        <td>.355</td>
        <td>.357</td>
        <td>.469</td>
    </tr>
    <tr>
        <td>GraIL</td>
        <td>.232</td>
        <td>.280</td>
        <td>.235</td>
        <td>-</td>
        <td>~.249</td>
        <td>.537</td>
        <td>.604</td>
        <td>.323</td>
        <td>.529</td>
        <td>.498</td>
        <td>.396</td>
        <td>.180</td>
        <td>.161</td>
        <td>.103</td>
        <td>.210</td>
    </tr>
    <tr>
        <td>ConGLR</td>
        <td>.226</td>
        <td>.271</td>
        <td>-</td>
        <td>-</td>
        <td>~.246</td>
        <td>.479</td>
        <td>.376</td>
        <td>-</td>
        <td>-</td>
        <td>~.428</td>
        <td>.485</td>
        <td>.309</td>
        <td>-</td>
        <td>-</td>
        <td>~.397</td>
    </tr>
    <tr>
        <td>COMPILE</td>
        <td>.265</td>
        <td><b>306</b></td>
        <td>-</td>
        <td>-</td>
        <td>~.285</td>
        <td>.592</td>
        <td>.600</td>
        <td>-</td>
        <td>-</td>
        <td>~.596</td>
        <td>.504</td>
        <td>.376</td>
        <td>-</td>
        <td>-</td>
        <td>~.440</td>
    </tr>
    <tr>
        <td>SNRI</td>
        <td>.159</td>
        <td>.252</td>
        <td>-</td>
        <td>-</td>
        <td>~.206</td>
        <td>.144</td>
        <td>.155</td>
        <td>-</td>
        <td>-</td>
        <td>~.149</td>
        <td>.450</td>
        <td>.218</td>
        <td>-</td>
        <td>-</td>
        <td>~.334</td>
    </tr>
    <tr>
        <td>INDIGO</td>
        <td>.127</td>
        <td>.137</td>
        <td>.155</td>
        <td>.102</td>
        <td>.130</td>
        <td>.026</td>
        <td>.006</td>
        <td>.037</td>
        <td>.003</td>
        <td>.018</td>
        <td>.529</td>
        <td>.110</td>
        <td>.103</td>
        <td>.097</td>
        <td>.210</td>
    </tr>
    <tr>
        <td>NodePiece</td>
        <td>.194</td>
        <td>.243</td>
        <td>.213</td>
        <td>.196</td>
        <td>.212</td>
        <td>.263</td>
        <td>.526</td>
        <td>.193</td>
        <td>.387</td>
        <td>.342</td>
        <td>.581</td>
        <td>.144</td>
        <td>.150</td>
        <td>.081</td>
        <td>.239</td>
    </tr>
    <tr>
        <td>NBFNet</td>
        <td><b>.466</b></td>
        <td><ins>.538</ins></td>
        <td><b>.494</b></td>
        <td><b>.478</b></td>
        <td><b>.494</b></td>
        <td><b>.743</b></td>
        <td>.693</td>
        <td><b>.452</b></td>
        <td><ins>.641</ins></td>
        <td><ins>.632</ins></td>
        <td><ins>.737</ins></td>
        <td><b>.520</b></td>
        <td><b>.508</b></td>
        <td><b>.426</b></td>
        <td><b>.548</b></td>
    </tr>
    <tr>
        <td>AStarNet</td>
        <td><ins>.427</ins></td>
        <td>.514</td>
        <td><ins>.483</ins></td>
        <td><ins>.469</ins></td>
        <td><ins>.473</ins></td>
        <td><ins>.730</ins></td>
        <td><b>.704</b></td>
        <td><ins>.448</ins></td>
        <td><b>.654</b></td>
        <td><b>.634</b></td>
        <td><b>.769</b></td>
        <td><ins>.501</ins></td>
        <td><ins>.476</ins></td>
        <td>.294</td>
        <td><ins>.510</ins></td>
    </tr>
    <tr>
        <td>RED-GNN</td>
        <td>.322</td>
        <td>.420</td>
        <td>.424</td>
        <td>.426</td>
        <td>.398</td>
        <td>.698</td>
        <td>.681</td>
        <td>.439</td>
        <td>.632</td>
        <td>.613</td>
        <td>.717</td>
        <td>.399</td>
        <td>.385</td>
        <td>.195</td>
        <td>.424</td>
    </tr>
    <tr>
        <td>Baseline</td>
        <td>.123</td>
        <td>.130</td>
        <td>.098</td>
        <td>.091</td>
        <td>.111</td>
        <td>.006</td>
        <td>.003</td>
        <td>.012</td>
        <td>.001</td>
        <td>.006</td>
        <td>.594</td>
        <td>.050</td>
        <td>.060</td>
        <td>.029</td>
        <td>.183</td>
    </tr>
</table>

### Type-matched sampling evaluation protocol

<table>
    <tr>
      <th/>
      <th colspan="5">FB15k-237</td>
      <th colspan="5">WN18RR</td>
      <th colspan="5">NELL-995</td>
    </tr>
    <tr>
        <td></td>
        <td>V1</td>
        <td>V2</td>
        <td>V3</td>
        <td>V4</td>
        <td>avg</td>
        <td>V1</td>
        <td>V2</td>
        <td>V3</td>
        <td>V4</td>
        <td>avg</td>
        <td>V1</td>
        <td>V2</td>
        <td>V3</td>
        <td>V4</td>
        <td>avg</td>
    </tr>
    <tr>
        <td>NeuralLP</td>
        <td>.354</td>
        <td>.447</td>
        <td>.427</td>
        <td>.418</td>
        <td>.412</td>
        <td>.706</td>
        <td>.695</td>
        <td>.352</td>
        <td>.661</td>
        <td>.604</td>
        <td>.446</td>
        <td>.586</td>
        <td>.539</td>
        <td>.578</td>
        <td>.537</td>
    </tr>
    <tr>
        <td>DRUM</td>
        <td>.399</td>
        <td>.490</td>
        <td>.448</td>
        <td>.454</td>
        <td>.448</td>
        <td>.708</td>
        <td>.696</td>
        <td>.352</td>
        <td>.661</td>
        <td>.604</td>
        <td>.483</td>
        <td>.621</td>
        <td>.606</td>
        <td><b>.647</b></td>
        <td>.589</td>
    </tr>
    <tr>
        <td>AnyBURL</td>
        <td>.425</td>
        <td>.540</td>
        <td>.530</td>
        <td>.525</td>
        <td>.505</td>
        <td>.798</td>
        <td>.778</td>
        <td>.513</td>
        <td>.727</td>
        <td>.704</td>
        <td>.728</td>
        <td>.574</td>
        <td>.479</td>
        <td>.521</td>
        <td>.575</td>
    </tr>
    <tr>
        <td>GraIL</td>
        <td>.417</td>
        <td>.468</td>
        <td>.475</td>
        <td>.305</td>
        <td>.416</td>
        <td>.764</td>
        <td>.794</td>
        <td>.523</td>
        <td>.754</td>
        <td>.709</td>
        <td>.462</td>
        <td>.536</td>
        <td>.479</td>
        <td>.376</td>
        <td>.463</td>
    </tr>
    <tr>
        <td>ConGLR</td>
        <td><ins>.491</ins></td>
        <td>.479</td>
        <td>.520</td>
        <td>.511</td>
        <td>.500</td>
        <td>.732</td>
        <td>.766</td>
        <td>.462</td>
        <td>.736</td>
        <td>.674</td>
        <td>.625</td>
        <td><b>.719</b></td>
        <td><ins>.638</ins></td>
        <td>.573</td>
        <td>.639</td>
    </tr>
    <tr>
        <td>COMPILE</td>
        <td>.442</td>
        <td>.511</td>
        <td>.526</td>
        <td>.483</td>
        <td>.490</td>
        <td>.768</td>
        <td>.784</td>
        <td>.516</td>
        <td>.737</td>
        <td>.701</td>
        <td>.550</td>
        <td><ins>.685</ins></td>
        <td>.611</td>
        <td>.287</td>
        <td>.533</td>
    </tr>
    <tr>
        <td>SNRI</td>
        <td>.312</td>
        <td>.416</td>
        <td>.438</td>
        <td>.454</td>
        <td>.405</td>
        <td>.533</td>
        <td>.784</td>
        <td>.481</td>
        <td>.731</td>
        <td>.632</td>
        <td>.531</td>
        <td>.510</td>
        <td>.426</td>
        <td>.208</td>
        <td>.419</td>
    </tr>
    <tr>
        <td>INDIGO</td>
        <td>.228</td>
        <td>.234</td>
        <td>.261</td>
        <td>.231</td>
        <td>.238</td>
        <td>.081</td>
        <td>.056</td>
        <td>.106</td>
        <td>.062</td>
        <td>.076</td>
        <td>.540</td>
        <td>.277</td>
        <td>.257</td>
        <td>.235</td>
        <td>.327</td>
    </tr>
    <tr>
        <td>NodePiece</td>
        <td>.252</td>
        <td>.323</td>
        <td>.322</td>
        <td>.307</td>
        <td>.301</td>
        <td>.590</td>
        <td>.720</td>
        <td>.401</td>
        <td>.650</td>
        <td>.590</td>
        <td>.627</td>
        <td>.270</td>
        <td>.290</td>
        <td>.210</td>
        <td>.349</td>
    </tr>
    <tr>
        <td>NBFNet</td>
        <td><b>.524</b></td>
        <td><b>.602</b></td>
        <td><b>.573</b></td>
        <td><b>.577</b></td>
        <td><b>.569</b></td>
        <td><b>.895</b></td>
        <td><b>.870</b></td>
        <td><b>.750</b></td>
        <td><b>.821</b></td>
        <td><b>.834</b></td>
        <td><ins>.745</ins></td>
        <td>.665</td>
        <td><b>.666</b></td>
        <td><ins>.634</ins></td>
        <td><b>.678</b></td>
    </tr>
    <tr>
        <td>AStarNet</td>
        <td>.487</td>
        <td><ins>.575</ins></td>
        <td><ins>.569</ins></td>
        <td><ins>.563</ins></td>
        <td><ins>.548</ins></td>
        <td><ins>.843</ins></td>
        <td><ins>.822</ins></td>
        <td><ins>.631</ins></td>
        <td><ins>.787</ins></td>
        <td><ins>.771</ins></td>
        <td><b>.788</b></td>
        <td>.653</td>
        <td>.624</td>
        <td>.575</td>
        <td><ins>.660</ins></td>
    </tr>
    <tr>
        <td>RED-GNN</td>
        <td>.402</td>
        <td>.514</td>
        <td>.551</td>
        <td>.545</td>
        <td>.503</td>
        <td>.799</td>
        <td>.807</td>
        <td>.600</td>
        <td>.768</td>
        <td>.743</td>
        <td>.732</td>
        <td>.618</td>
        <td>.588</td>
        <td>.387</td>
        <td>.581</td>
    </tr>
</table>

## Approaches

### Hyperparameters

For AnyBURL we learned rules for 1000 seconds, limiting the search only to rules that can be applied in the inductive setting (cyclic rules) with a maximum length of 3. 
```
MAX_LENGTH_CYCLIC = 3
ZERO_RULES_ACTIVE = false
MAX_LENGTH_ACYCLIC = 0
MAX_LENGTH_GROUNDED_CYCLIC = 0
```


NeuralLP and DRUM were trained 10 epochs using a hidden dimension of 128, batch size of 64, and learning rate 0.001. 

The hyperparameters used for training GraIL; ConGLR, CoMPILE and SNRI are as follows:
| | epochs | lr | l2 penalty | margin (margin loss) | GNN layers | Hidden dim | dropout |
| -- | -- | -- | -- | -- | -- | -- | -- | 
| GraIL | 50 | 0.01 | 5e-4 | 10 | 3 | 32 | 0.5 | 
| ConGLR | 10 | 0.001 | 5e-4 | 10 | 3 | 32 | 0.5 | 
| CoMPILE | 30 | 0.001 | 5e-4 | 10 | 3 | 32 | 0.5 | 
| SNRI | 30 | 0.001 | 5e-4 | 10 | 3 | 32 | 0.5 |

One exception to this is SNRI and NELL v1, v2, v4 where epochs=10 and lr=0.01 created better results.

NBFNet and AStarNet were trained for 20 epochs using a learning rate of 0.005, 6 GNN layers and a hidden dimension of 32. Detailed configs can be seen [here](https://github.com/DeepGraphLearning/AStarNet/tree/master/config/inductive). For NELL we used the configs as trained on fb15k237. 

NodePiece was trained using different hyperparameters for each dataset and version. For example, the number of epochs ranges from 210 to 2500. We refer to the appendix of its respective paper for used hyperparameters. 

RED-GNN was trained using the hyperparamters released on their codebase, which were tuned using hyperparameter optimization. 

INDIGO was trained for 3000 epochs, a learning rate of 0.001 and weight decay of 5e-8, a hidden dimension of 64 and a dropout of 0.5. 

The training of selected approaches on the biggest benchmark dataset FB15k-237 V4 took for Anyburl 10 minutes, NBFNet 44 minutes, NeuralLP 2.5 hours, DRUM 6 hours, NodePiece 19 hours, GrAIL 38 hours and SNRI 63.2 hours.

### Implementations

| Approach | URL |
| - | - |
| NeuralLP | https://github.com/fanyangxyz/Neural-LP |
| DRUM | https://github.com/alisadeghian/DRUM |
| AnyBURL | https://web.informatik.uni-mannheim.de/AnyBURL/ |
| GraIL | https://github.com/kkteru/grail |
| ConGLR | https://github.com/deepnolearning/ConGLR |
| CoMPILE | https://github.com/TmacMai/CoMPILE_Inductive_Knowledge_Graph |
| SNRI | https://github.com/Tebmer/SNRI |
| INDIGO | https://github.com/shuwen-liu-ox/INDIGO |
| NodePiece | https://github.com/migalkin/NodePiece |
| NBFNet | https://github.com/DeepGraphLearning/AStarNet |
| AStarNet | https://github.com/DeepGraphLearning/AStarNet |
| RED-GNN | https://github.com/LARS-research/RED-GNN/ |